<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closures</title>
</head>
<body>
    
    <!-- // we want to change the bg color of the page based on the color  -->

    <button id="orange">Orange</button>
    <button id="green">Green</button>
</body>

<script>

    // this will work what will happen for larger data  sets
    // document.querySelector('#orange').onclick=()=>{
    //     document.body.style.backgroundColor ='orange'
    // }
    // document.querySelector('#Green').onclick=()=>{
    //     document.body.style.backgroundColor =`Green`
    // }

    // but what will you do if someone asked you to do the same with 500 buttons will you create 500 buttons?ðŸ˜‚ so now let us design a function

</script>
<script>

    // function clickHandler(color){
    //     document.body.style.backgroundColor =`${color}`
    // }  

    // this function was generating errros

    function clickHandler(color){


        

        // document.body.style.backgroundColor =`${color}` // this will generate error

    // by doing this the bg will be orange automatically without even clicking by using the previous function definition
    // we were expecting a function but we got a function executable which gets executed automatically
        

    

    // we are returning a function instead of calling the function directly
    // due to lexical scoping the inner function has access to the color property of the outer property
       return function(){
            document.body.style.backgroundColor =`${color}`
        
            //application of lexical scoping sirf function bahar nahi jayega pura lexical scope jayega
       }
    }

//    onclick needs a function reference not a function executable 

    document.getElementById("orange").onclick= clickHandler("orange") 
    document.getElementById("green").onclick= clickHandler("green")
    
    // by doing this the bg will be orange automatically without even clicking by using the previous function definition

    // we were expecting a function but we got a function executable so we will have to change the function definition


/*  Defining the function: The clickHandler function is like a recipe that tells the computer what to do when it's called. 
It takes one input, which is a color.

Creating a closure: Inside the clickHandler function, there's another little recipe (a function) that's created and then returned. 
This inner function is like a mini-program that does something specific. But here's the interesting part: it remembers the color 
that was passed to clickHandler, even after clickHandler finishes running. It's like putting a note in a secret drawer 
that only this mini-program can see.

Setting up the click event: When you call clickHandler and pass it a color (like "orange" or "green"), 
it immediately runs the outer function and returns the inner function. But it doesn't run the inner function just yet; it just sets it aside, 
ready to be used later.

Associating with buttons: The returned inner function is then assigned to the onclick property of each button. So, when you click a button, 
it's like opening that secret drawer and running the mini-program inside. And because that mini-program remembers the color 
from when clickHandler was called, it knows what color to change the background to.

In simple terms, clickHandler creates little programs (inner functions) that remember which color they're supposed to change the background to.
When you click a button, it runs the little program associated with that button, and the background changes to the color it remembers. 
This way, you don't need to write separate code for each button; you just create these little programs once and let them do their job when 
needed. */

</script>
</html>